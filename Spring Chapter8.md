#8장. 스프링이란 무엇인가?
## 목표

1. 스프링이란 무엇이고 어떻게 설명할 수 있을까?
2. 스프링 프레임워크가 만들어진 이유와 존재 목적, 추가하는 가치는 무엇일까?

<br/>

## 스프링의 정의

**<center>자바 엔터프라이즈 개발을 편하게 해주는 오픈소스 경량급 애플리케이션 프레임 워크</center>**

<br/>

#### 애플리케이션 프레임워크

- 애플리케이션 프레임워크는 특정 계층이나 기술, 업무 분야에 국한되지 않고 애플리케이션의 전 영역을 포괄하는 범용저인 프레임워크를 말한다.

**탄생배경**

스프링을 처음 만든 로드 존슨(Rod Johnson)은 [Expert One-on-One J2EE Design and Development]라는 책을 출간했다.
=> 일부 개발자는 책에 나오는 프레임워크를 단지 예제 수준으로 두기에는 아깝다는 생각을 했고, 그것을 발전시켜서 지속적으로 개발하자는 의견을 냈다.
=> 정식으로 스프링 프레임워크라는 이름의 오픈소스 프로젝트가 시작돼서 오늘날에 이르렀다.

<br/>

- 스프링의 기원이 된 예제 애플리케이션의 프레임워크는 책에서 설명한 각종 자바 엔터프라이즈 개발 전략의 핵심을 담아서 개발됐다.
- 애플리케이션 프레임워크는 애플리케이션의 전 영역을 관통하는 일관된 프로그래밍 모델과 핵심 기술을 바탕으로 해서 각 분야의 특성에 맞는 필요를 채워주고 있다.
- 스프링의 일차적인 존재 목적은 핵심 기술에 담긴 프로그래밍 모델을 일관되게 적용해서 엔터프라이즈 애플리케이션 전 계층과 전 영역에 전략과 기능을 제공해줌으로써 편리하게 개발하게 해주는 것이다.

<br/>

#### 경량급

- 스프링이 가볍다고 하는 이유는 무엇일까?
=> 불필요하게 무겁지 않다는 의미이다.
=> 과거 EJB는 코드 모두를 매우 무겁고 복잡하게 만들었다.

- 경량급이라는 의미는 스프링을 기반으로 제작되는 코드가 기존 EJB나 여타 프레임워크에서 동작하기 위해 만들어진 코드에 비해 상대적으로 작고 단순하다는 뜻이기도 하다.
- 반복되던 코드가 제거되고 가장 단순하고 가벼운 코드만 남게 되었다.

<br/>

#### 자바 엔터프라이즈 개발을 편하게

- 스프링은 근본적인 부분에서 엔터프라이즈 개발의 복잡함을 제거해내고 진정으로 개발을 편하게 해주는 해결책을 제시한다.
- 엔터프라이즈 개발의 근복적인 문제점에 도전해서 해결책을 제시한다는 것이 기존 기술의 접근 방법과 스프링의 접근 방법의 차이점이다.
- 편리한 애플리케이션 개발이란 개발자가 복잡하고 실수하기 쉬운 로우레벨 기술에 많은 신경을 쓰지 않으면서도 애플리케이션의 핵심인 사용자의 요구사항, 즉 비즈니스 로직을 빠르고 효과적으로 구현하는 것을 말한다.

<br/>

#### 오픈소스

- 스프링은 오픈소스 프로젝트 방식으로 개발돼왔다.

> **오픈소스**
오픈소스란 말 그대로 소스가 모두에게 공개되고, 특별한 라이선스를 취득할 필요없이 얼마든지 가져다 자유롭게 이용해도 된다는 뜻이다. 물론 오픈소스도 저작권이 있기 때문에 원 저작자에 대한 정보와 라이선스는 유지한 채로 사용하거나 배포해야지, 자신이 만든 것처럼 슬며시 가져다 사용해도 좋다는 뜻은 아니다.

**장점**

- 공개된 커뮤니티의 공간 안에서 투명한 방식으로 다양한 참여를 통해 개발되기 때문에 매우 빠르고 유연한 개발이 가능하다는 것이다.
- 오픈소스 사용자는 소스코드를 다운받아서 품질과 기능을 얼마든지 검증하고 분석해 볼 수 있다.
- 개발 중인 경우에도 소스코드까지 투명하게 공개되기 때문에 사용자의 피드백이 그만큼 빨리 전달되고 반영된다.
- 잠재적인 버그와 문제점이 빠르게 발견되고 해결될 수 있다.
- 라이선스 비용에 대한 부담이 없다.

**단점**

- 수익이 나지 않고 여가시간에 개발이 된다.
- 지속적이고 안정적인 개발이 진행되지 못한다.
- 엔터프라이즈 시스템 개발자는 언제 개발이 중단되거나 지연될지 모르는 오픈소스 프레임워크의 도입을 부정적으로 생각할 수 밖에 없다.

**단점극복**

- 스프링을 개발하고 있는 스프링소스는 스프링에 대한 전문적인 기술지원과 컨설팅 그리고 스프링을 기반으로 개발된 시스템을 안정적으로 운용할 수 있도록 돕는 상용 제품을 제공함으로써 수익을 얻고, 한편으로는 오픈소스 프로젝트로서 스프링이 효율적으로 개발되도록 지원하고 있다.
- 사용자는 개발이 중단될까봐 염려하지 않아도 되고, 필요한 경우에는 비용을 지불하고 개발팀의 전문적인 기술지원 서비스나 컨설팅을 받을 수도 있다.

<br/>

## 스프링의 목적

- 스프링의 목적은 '경량급 프레임워크인 스프링을 활용해서 엔터프라이즈 애플리케이션 개발을 편하게'하는 것이다.

<br/>

#### < 엔터프라이즈 개발의 복잡함 >
#### 문제1. 기술적인 제약조건과 요구사항이 늘어간다.

- 엔터프라이즈 시스템은 많은 사용자의 요청을 동시에 처리해야 하기 때문에 서버의 자원을 효율적으로 공유하고 분배해서 사용할 수 있어야 한다.
- 중요한 기업의 핵심정보를 처리하거나 금융, 항공, 원자력, 국방 등의 시스템을 다루기도 하기 때문에 보안과 안정성, 확장성 면에서도 뛰어나야 한다.
- 엔터프라이즈 시스템이 기업 업무를 처리하는 데 핵심적인 역할로 등장하고 중요해지면서 점점 더 기술적인 요구는 심화되고 그에 따른 복잡도는 증가한다.

<br/>

#### 문제2. 엔터프라이즈 애플리케이션이 구현해야 할 핵심기능인 비즈니스 로직의 복잡함이 증가한다.

- 경제 흐름과 사회의 변화, 업계의 추이에 따라서 수시로 업무 프로세스를 변경하고 조종하는 것을 상시화할 만큼 변화의 속도가 빨라졌다.
- 이전과 다르게 시스템 개발과 유지보수, 추가 개발 등의 작업에 대한 부담은 커지고 그에 따른 개발의 난이도는 더욱 증가했다.

<br/>

#### 문제3. 비즈니스 로직의 복잡함과 기술적인 복잡함이 얽혀있다.

- 하나씩 놓고 봐도 만만치 않은데, 그 두가지를 한 번에 다뤄야 하니 복잡함이 몇 배로 가중된다.
- 개발자가 동시에 그 두 가지를 모두 신경 써서 개발해야 하는 과도한 부담을 줬고, 그에 따라 전체적인 복잡함은 몇 배로 가중되었다.

<br/>

#### 해결방법1. EJB - 실패한 해결책

- EJB의 기본 전략은 성격이 다른 비즈니스 로직의 복잡함과 기술적인 복잡함을 분리하는 것이다.
- EJB는 기술적인 복잡함을 애플리케이션의 핵심 로직에서 일부분 분리하는 데 성공하긴 했다.
- 반면에 EJB 환경에서 동작하기 위해 특정 인터페이스를 구현하고, 특정 클래스를 상속하고, 서버에 종속적인 서비스를 통해서만 접근하고 사용하게 만들었다.
- 일부 기술적인 복잡함을 덜어주려는 시도를 하다가 오히려 더 큰 복잡함을 추가하는 실수를 범했다.

<br/>

#### 해결방법2. 스프링 - 비침투적인 방식을 통한 효과적인 해결책

- EJB처럼 어떤 기술을 적용했을 때 그 기술과 관련된 코드나 규약 등이 코드에 등장하는 경우를 침투적인 기술이라고 하며, 비침투적인 기술은 기술의 적용 사실이 코드에 직접 반영되지 않는다는 특징이 있다.
- 스프링은 코드의 설계와 구현 방식을 제한하지 않았다.
- 스프링은 기술적인 복잡함과 비즈니스 로직을 다루는 코드를 깔끔하게 분리했으며, 그 과정에서 스프링 스스로가 애플리케이션 코드에 불필요하게 나타나지 않도록 했다.

<br/>

#### < 복잡함을 상대하는 스프링의 전략 >

**문제점1. 기술에 대한 접근 방식이 일관성이 없고, 특정 환경에 종속적이다.**

**해결방법: 서비스 추상화**

- 기술적인 복잡함은 일단 추상화를 통해 로우레벨의 기술 구현 부분과 기술을 사용하는 인터페이스를 분리하고, 환경과 세부기술에 독립적인 접근 이너페이스를 제공하는 것이 가장 좋은 해결책이다.
- 서비스 추상화를 적용하여 테스트 편의성을 증대시키고 기술에 대한 세부 설정과 환경으로부터 독립적인 코드를 만들 수 있다.
- 데이터 액세스 예외에 대한 추상화는 예외에 종속되지 않고, 불필요하게 예외를 잡아야 하거나 throws를 선언해야 하는 것을 방지해준다.
- 스프링이 제공하는 템플릿/콜백 패턴은 판에 박힌 반복적인 작업 흐름과 API 사용 코드를 제거해준다.

**문제점2. 기술적인 처리를 담당하는 코드가 성격이 다른 코드에 섞여서 등장한다.**

**해결방법: AOP**

- AOP는 애플리케이션 로직을 담당하는 코드에 남아 있는 기술 관련 코드를 깔끔하게 분리해서 별도의 모듈로 관리하게 해준다.
- AOP는 기술을 다루는 코드로 인한 복잡함이 기술 그 자체 이상으로 불필요하게 증대되지 않도록 도와준다.

**문제점3. 비즈니스와 애플리케이션 로직의 복잡함**

**해결방법: 객체지향 기술**

- 객체지향 프로그래밍 기법과 언어가 주는 장점인 유연한 설계가 가능하고 재사용성이 높다는 점을 잘 활용하면 자주 바뀌고 조건이 까다로운 비즈니스 로직을 효과적으로 구현해낼 수 있다.

<br/>

#### 핵심도구: 객체지향과 DI

- 기술과 비즈니스 로직의 복잡함을 해결하는 데 스프링이 공통적으로 사용하는 도구는 바로 객체지향이다.
- 자바의 기본인 객체지향에 충실한 설계가 가능하도록 단순한 오브젝트로 개발할 수 있고, 객체지향의 설계 기법을 잘 적용할 수 있는 구조를 만들기 위해 DI 같은 유용한 기술을 편하게 적용하도록 도와주는 것이 스프링의 기본 전략이다.
- 객체지향적인 특성을 잘 살린 설계는 상속과 다형성, 위임을 포함해서 많은 객체지향 디자인 패턴과 설계 기법이 잘 녹아들어 갈 수 있다.
- 객체지향 기술의 장점을 최대한 활용해서 복잡하고 자주 변하는 업무를 지원하는 시스템을 만들 때도 손쉽게 대응이 가능해진다.


to be continued....
